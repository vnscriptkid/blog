{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/calling-java-script-from-type-script",
    "result": {"data":{"post":{"slug":"/calling-java-script-from-type-script","title":"Calling JavaScript from TypeScript","date":"04.09.2020","tags":[{"name":"TypeScript","slug":"type-script"},{"name":"JavaScript","slug":"java-script"},{"name":"JsDoc","slug":"js-doc"}],"description":"Gradually migrating from JS to TS is not without difficulties - here are some tricks to smoothen the interoperability","canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Calling JavaScript from TypeScript\",\n  \"description\": \"Gradually migrating from JS to TS is not without difficulties - here are some tricks to smoothen the interoperability\",\n  \"date\": \"2020-09-04T00:00:00.000Z\",\n  \"banner\": \"./call.jpg\",\n  \"tags\": [\"TypeScript\", \"JavaScript\", \"JsDoc\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"640px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"56.25%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAMC/9oADAMBAAIQAxAAAAHCjSN3Iln/AP/EABkQAAMAAwAAAAAAAAAAAAAAAAABAhESMv/aAAgBAQABBQLQcoUZHzQz/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/AQMsv//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAgEBPwGsf//EABoQAAICAwAAAAAAAAAAAAAAAAEQAAIRIjH/2gAIAQEABj8C2OZxVL//xAAaEAEAAwEBAQAAAAAAAAAAAAABABExIUFx/9oACAEBAAE/IVKeiutwIm724g45zZ9hdibm5//aAAwDAQACAAMAAAAQa8//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAEDAQE/EOykrb//xAAWEQEBAQAAAAAAAAAAAAAAAAABACH/2gAIAQIBAT8QXCL/xAAaEAEBAQADAQAAAAAAAAAAAAABEQAhMUFR/9oACAEBAAE/EDsOk0HH35ozAAKvcyeBPQZtCramrlKrkgnpXf/Z')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"call\",\n    \"title\": \"call\",\n    \"src\": \"/blog/static/3d66d0041ae18a49abac91d5f78e3d5e/bbe0c/call.jpg\",\n    \"srcSet\": [\"/blog/static/3d66d0041ae18a49abac91d5f78e3d5e/46946/call.jpg 240w\", \"/blog/static/3d66d0041ae18a49abac91d5f78e3d5e/55489/call.jpg 480w\", \"/blog/static/3d66d0041ae18a49abac91d5f78e3d5e/bbe0c/call.jpg 640w\"],\n    \"sizes\": \"(max-width: 640px) 100vw, 640px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(Attribution, {\n    name: \"Antoine Barr\\xE8s\",\n    url: \"https://unsplash.com/@antoinebarres\",\n    mdxType: \"Attribution\"\n  }), mdx(\"p\", null, \"There is nothing better than starting a new project, on a green field.\\nYou can choose all the latest tech you want, and you can begin with great types right from the start.\"), mdx(\"p\", null, \"Obviously, you then wake up from your dream and realise you have to maintain a project with 150k lines of legacy JavaScript code.\\nIf you are lucky, the team started to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"gradually\"), \" migrate the codebase to TypeScript.\"), mdx(\"p\", null, \"But it will take some time to \\\"get there\\\".\\nUntil then, you will need some interoperability between JavaScript and TypeScript.\"), mdx(\"p\", null, \"Being in a JS file and calling a function defined in a .ts is trivial - it just works\", \"\\u2122\", \".\\nBut what about the other way around? Turns out - that's not so easy.\"), mdx(\"h2\", {\n    \"id\": \"example\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Example\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#example\",\n    \"aria-label\": \"example permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Suppose you have a util function that you would like to import. It could be something as simple as:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=utils.js\"\n  }, \"export const sum = ({ first, second, third }) =>\\n  first + second + (third ?? 0)\\n\")), mdx(\"p\", null, \"A stupid example, I know, but it'll do.\"), mdx(\"h2\", {\n    \"id\": \"setting-up-tsconfigjson\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Setting up tsconfig.json\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#setting-up-tsconfigjson\",\n    \"aria-label\": \"setting up tsconfigjson permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"You're gonna have to set \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"allowJs: true\"), \" in your tsconfig if you want to be able to import that file.\\nOtherwise, your import will error with:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"TS7016: Could not find a declaration file for module './utils'.\\n'src/utils.js' implicitly has an 'any' type.\\n\")), mdx(\"p\", null, \"Of course, I am assuming here that you have \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"noImplicitAny\"), \" turned on as well \\uD83D\\uDE0A.\"), mdx(\"p\", null, \"So with allowJs, TypeScript will start to accept .js files, and perform rudimentary type inference on them.\\nThe sum util will now be inferred as:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"export const sum: function({ first: any, second: any, third: any }): any\\n\")), mdx(\"p\", null, \"Which is good enough, not type-safe at all, but that wasn't part of the requirement.\\nWith that, we are all set-up. That wasn't hard, so where's the catch?\"), mdx(\"h2\", {\n    \"id\": \"the-catch\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"The catch\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#the-catch\",\n    \"aria-label\": \"the catch permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Maybe you've already noticed: The third parameter is actually \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"optional\"), \".\\nSo we would like to call our function like that:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts:title=the-catch\"\n  }, \"sum({ first: 1, second: 2 })\\n\")), mdx(\"p\", null, \"Comparing this to the inferred type above, we will naturally get:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"TS2345: Argument of type '{ first: number; second: number; }' is not assignable to parameter of type '{ first: any; second: any; third: any; }'.\\n    Property 'third' is missing in type '{ first: number; second: number; }' but required in type '{ first: any; second: any; third: any; }'.\\n\")), mdx(\"h2\", {\n    \"id\": \"solutions\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Solutions\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#solutions\",\n    \"aria-label\": \"solutions permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"There are multiple solutions to this problem, so you'll have to decide for yourself which one is best suited for your specific case:\"), mdx(\"h3\", {\n    \"id\": \"use-dts-files\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"use .d.ts files\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#use-dts-files\",\n    \"aria-label\": \"use dts files permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"You can turn off \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"allowJs\"), \" and write \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.typescriptlang.org/docs/handbook/declaration-files/introduction.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"declaration files\"), \"\\nfor all your JavaScript files.\\nDepending on the amount of files, this might be feasible, or not. It can be as easy as this any stub:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts:title=utils.d.ts\"\n  }, \"export const sum: any\\n\")), mdx(\"p\", null, \"This is substantially worse than the inferred version. You can of course be more specific than that, but you have to do it manually.\\nAnd you have to remember to keep the both files in sync, so I'm not a big fan of this solution.\"), mdx(\"h3\", {\n    \"id\": \"dont-destruct\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Don't destruct\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#dont-destruct\",\n    \"aria-label\": \"dont destruct permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"The described problem is actually due to typescript performing better inference if you use destructuring.\\nWe could change the implementation to:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=no-destruct-utils\"\n  }, \"export const sum = (params) =>\\n  params.first + params.second + (params.third ?? 0)\\n\")), mdx(\"p\", null, \"Now, TypeScript will just infer params as \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"any\"), \", and we are again good to go.\\nEspecially if you are working with React components, destructing props is very common, so I'd also give this a pass.\"), mdx(\"h3\", {\n    \"id\": \"assign-default-parameters\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Assign default parameters\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#assign-default-parameters\",\n    \"aria-label\": \"assign default parameters permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(SpacingBox, {\n    mdxType: \"SpacingBox\"\n  }), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=default-params\"\n  }, \"export const sum = ({ first, second, third = 0 }) => first + second + third\\n\")), mdx(\"p\", null, \"I like this solution a lot, because the implementation is actually \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"easier\"), \" than before.\\nThe function's \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"interface\"), \" now shows what is optional, which is why TypeScript also knows that.\\nThis works well for variables where the default is clear, like booleans, where you can easily default to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"false\"), \".\"), mdx(\"p\", null, \"If you don't know what a good default value would be, you could even cheat a bit and do this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=cheating-default-params\"\n  }, \"export const sum = ({ first, second, third = undefined }) =>\\n  first + second + (third ?? 0)\\n\")), mdx(\"p\", null, \"\\uD83E\\uDD2F\"), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"undefined\"), \" will also be the default value even if you don't explicitly specify it, but now, TypeScript will let you.\\nThis is a non-invasive change, so if you have complex types where you can't easily come up with a default value, this seems like a good alternative.\"), mdx(\"h3\", {\n    \"id\": \"convert-the-file-to-typescript\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Convert the file to TypeScript\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#convert-the-file-to-typescript\",\n    \"aria-label\": \"convert the file to typescript permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(SpacingBox, {\n    mdxType: \"SpacingBox\"\n  }), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts:title=ts-all-the-things\"\n  }, \"type Params = {\\n  first: number\\n  second: number\\n  third?: number\\n}\\nexport const sum = ({ first, second, third }: Params): number =>\\n  first + second + (third ?? 0)\\n\")), mdx(\"p\", null, \"The long-term thing you probably want to do anyways - convert it to TypeScript.\\nIf it's feasible - go for this option.\"), mdx(\"h3\", {\n    \"id\": \"use-jsdoc\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Use JsDoc\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#use-jsdoc\",\n    \"aria-label\": \"use jsdoc permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"This is the last option I have to offer, and I kinda like it because it represents the middle ground between things\\njust being \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"any\"), \" and converting the whole file to TypeScript right away.\"), mdx(\"p\", null, \"I never really understood why you would need this, but now I do.\\nAdding JsDoc annotations to your JavaScript functions will:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Help TypeScript with type inference, thus making your call sides more safe.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Give you IntelliSense in your IDE.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make it easier to finally migrate to TypeScript when the time is right.\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=with-js-docs\"\n  }, \"/**\\n * @param {{ first: number, second: number, third?: number }} params\\n * @returns {number}\\n */\\nexport const sum = ({ first, second, third }) =>\\n  first + second + (third ?? 0)\\n\")), mdx(\"p\", null, \"Of course, you can also just type them to any or omit the return type. You can be as specific as you want.\"), mdx(\"h4\", {\n    \"id\": \"bonus-typechecking-js-files\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Bonus: TypeChecking js files\", mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#bonus-typechecking-js-files\",\n    \"aria-label\": \"bonus typechecking js files permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"If you add the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"// @ts-check\"), \" comment at the top of your js file,\\nit will be type-checked \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"almost\"), \" like all your typescript files, and JsDoc annotations will be honoured \\uD83D\\uDE2E.\\nYou can read more about the differences \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/Microsoft/TypeScript/wiki/Type-Checking-JavaScript-Files\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"here\"), \".\"), mdx(\"h2\", {\n    \"id\": \"what-i-ended-up-doing\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"What I ended up doing\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#what-i-ended-up-doing\",\n    \"aria-label\": \"what i ended up doing permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"I used \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"JsDoc\"), \" for the first time today when I had this exact problem.\\nI chose it over the other options because:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"adding .d.ts files is tedious to maintain and will make my IDE stop navigating to the actual source \\uD83D\\uDE12\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"I wanted to keep the destructuring \\uD83D\\uDE15\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Default parameters were hard to come up with as my case was much more complex \\uD83E\\uDDD0\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The file in question had 120+ lines of code \\uD83E\\uDD28\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"I wanted to make it easier for us to migrate when we fully convert that file \\uD83D\\uDE80\")), mdx(Comments, {\n    mdxType: \"Comments\"\n  }, \"What would you do? Let me know in the comments below \\u2B07\\uFE0F\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"There is nothing better than starting a new project, on a green field.\nYou can choose all the latest tech you want, and you can begin with…","timeToRead":3,"banner":{"childImageSharp":{"resize":{"src":"/static/3d66d0041ae18a49abac91d5f78e3d5e/a6c62/call.jpg"}}}}},"pageContext":{"slug":"/calling-java-script-from-type-script","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}