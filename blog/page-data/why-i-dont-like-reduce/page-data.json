{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/why-i-dont-like-reduce",
    "result": {"data":{"post":{"slug":"/why-i-dont-like-reduce","title":"Why I don't like reduce","date":"09.09.2020","tags":[{"name":"JavaScript","slug":"java-script"},{"name":"TypeScript","slug":"type-script"},{"name":"Array","slug":"array"},{"name":"reduce","slug":"reduce"}],"description":"If you know me, you know I'm no fan of Array.reduce. I'll explain why in detail in this post.","canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Why I don't like reduce\",\n  \"description\": \"If you know me, you know I'm no fan of Array.reduce. I'll explain why in detail in this post.\",\n  \"date\": \"2020-09-09T00:00:00.000Z\",\n  \"banner\": \"./swiss-knife.png\",\n  \"tags\": [\"JavaScript\", \"TypeScript\", \"Array\", \"reduce\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"span\", {\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"597px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"61.24999999999999%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACbElEQVQoz2WSTW8SURSGZ9EYIpJpgcJMKZBACNipSPko38Pw0YRoUih0QkGwxdJA0za20Tgb/GDjwmgTk8a4syEa06gbf4Q/wbhxp2v9B685NxmCunjuyT333vc9Z+Zwsiwjl8sxFEVhMZvNIp/PTygWi4xCocDQ96VS6S8ox2UyGRAkkkwmWbJSqSCdTkM3ozztdUPKTxeiQzluWqzT6UBVVRwdHiEei0GRc4hEIuh2u+wsFApNxOkdxX/hYrEYVsJhRKNRJnx8fIx+v4/e4QFqjQaq1SpenZ3h1lYTvd1dNLeaE1G6r3c4EaQHe709lMtlxONxjEYjvB2P8eHpM7wcPoE2fIj69jYG9+/hRHuAfKGATCrFWqQidKFUKsWMOFp2dnagaRpOX5zi/cUFPp6f49cNFb8DcXwNZvE5U8bztXWs+ZexJC2joqqo1WpoNBqsOtIgEokEOI/HA7vdjoWFBfj9ftbG0cE+3jwa4l2rjS9VFd/jefz0R/AjsIpvnhWM6y20e7vYrNcnQgR1yHm9Xvh8PobT6QTP83CKdsjBIDq32+id3EX3Thfafh+v9wf41GrjcW0Tq+k0liUJkiQhEAiwGA6HwbndbrhcLiwuLrIqHQ4HrFYrfF4vEtEoLDyP1WtBKKkk1nNZ3MzJUPIKm89Wq8V+4mAwwMbGBpsIThcSBIG1Pj8/z6LVbIbBYIBDFNkwX7lsxPWlqxB4HpdmZmA0GmGxWECfjMaJpoUq5Ww2GxMhqDIdys/NzcFsNsNus8FqsUAUBGZOhqIosjt0bjKZGKTBkcs006K0pwezs7P/GepQnoT17v4AIACXxkxgf3EAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"swiss knife\",\n    \"title\": \"swiss knife\",\n    \"src\": \"/blog/static/1dc1ed7acf79826a20f3449c7b11c88b/4af63/swiss-knife.png\",\n    \"srcSet\": [\"/blog/static/1dc1ed7acf79826a20f3449c7b11c88b/5243c/swiss-knife.png 240w\", \"/blog/static/1dc1ed7acf79826a20f3449c7b11c88b/ab158/swiss-knife.png 480w\", \"/blog/static/1dc1ed7acf79826a20f3449c7b11c88b/4af63/swiss-knife.png 597w\"],\n    \"sizes\": \"(max-width: 597px) 100vw, 597px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \"), mdx(Divider, {\n    mdxType: \"Divider\"\n  }), mdx(\"p\", null, \"The popular \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/sindresorhus/eslint-plugin-unicorn\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"eslint-plugin-unicorn\"), \" recently added a\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/sindresorhus/eslint-plugin-unicorn/blob/master/docs/rules/no-reduce.md\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"no-reduce\"), \" rule, and it is set to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"error\"), \" per default.\\nThe argument is that Array.reduce will likely result in code that is hard to reason about, and can be replaced with other methods in most cases\\n(Read \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twitter.com/jaffathecake/status/1213077702300852224\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"this twitter thread\"), \" for a lengthy discussion if you like).\"), mdx(\"p\", null, \"I have to say: I wholeheartedly agree, and I have personally turned on that rule in some projects.\"), mdx(\"h2\", {\n    \"id\": \"what-is-wrong-with-reduce\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"What is wrong with reduce?\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#what-is-wrong-with-reduce\",\n    \"aria-label\": \"what is wrong with reduce permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"For me, there are many reasons why I rarely like to see reduce when reviewing code.\\nFirst and foremost, it is hard to grasp.\\nI believe one of the reasons for this is that reduce can do \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"way too much\"), \".\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Need to sum up values?\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Need to transform Arrays into Objects?\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Need to build a string?\")), mdx(\"p\", null, \"Array.reduce can do it all.\"), mdx(\"p\", null, \"While it might sound nice to have such a tool at your disposal, when looking at something implemented with reduce,\\nyou don't immediately see what that code is for.\"), mdx(\"p\", null, \"What also adds to the confusion for me is that you cannot read reduce from left to right, top to bottom - at least not in JavaScript.\\nWhenever I see reduce, I usually skim to the very end to get ahold of the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"initial value\"), \", because it will tell me what this reduce is trying to do.\\nThen, I can go back to the beginning and try to understand it.\"), mdx(\"p\", null, \"This is not the case in other languages, for example \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"scala\"), \", where the initial value is the first parameter:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-java:title=sum-a-list\"\n  }, \"val numbers = List(1, 2, 3)\\n\\nnumbers.fold(0)(_ + _) // 6\\n\")), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://scastie.scala-lang.org/UShgOD5BRd6ymtKr7VliUQ\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"Try me in scastie\")), mdx(\"p\", null, \"Reduce is so mighty, you can implement all the other Array functions you are using on a daily basis with it:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=map-with-reduce\"\n  }, \"const mapWithReduce = (array, callback) =>\\n  array.reduce((accumulator, currentValue, index) => {\\n    accumulator[index] = callback(currentValue, index, array)\\n    return accumulator\\n  }, [])\\n\\nmapWithReduce([1, 2, 3], (value) => value * 2) // 2, 4, 6\\n\")), mdx(\"p\", null, \"I have even seen people re-implement \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"join\"), \" with reduce:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js:title=join-with-reduce\"\n  }, \"const joinWithReduce = (array, delimiter) =>\\n  array.reduce(\\n    (accumulator, currentValue, index) =>\\n      accumulator +\\n      currentValue +\\n      (index === array.length - 1 ? '' : delimiter),\\n    ''\\n  )\\n\\njoinWithReduce(['foo', 'bar', 'baz'], ';') //foo;bar;baz\\n\")), mdx(\"p\", null, \"The question is: why would you? For almost all cases, there are methods that:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"are not as powerful, with a limited scope\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"have a clear API\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"have a good name, so you know what it is doing\")), mdx(\"p\", null, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Array.join\"), \" is a very good example of such a limited method.\\nEveryone understands what is going on when we read:\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"values.join(';')\")), mdx(\"p\", null, \"Compare that to the above implementation - I think we can agree that the simplicity is preferred.\"), mdx(\"h2\", {\n    \"id\": \"when-is-it-okay-to-reduce\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"When is it okay to reduce?\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#when-is-it-okay-to-reduce\",\n    \"aria-label\": \"when is it okay to reduce permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"For me, (mostly) only when implementing reusable util methods.\\nIt usually doesn't matter \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"how\"), \" they are implemented.\\nYou give them a good name, a clear purpose, write some tests and that's it.\"), mdx(\"p\", null, \"Most usages of reduce I was reviewing lately fall in one of three categories:\"), mdx(\"h3\", {\n    \"id\": \"1-transforming-arrays-to-objects\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"1. Transforming Arrays to Objects\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#1-transforming-arrays-to-objects\",\n    \"aria-label\": \"1 transforming arrays to objects permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Yes, there is no easy native way to do that, and not even popular util libraries like \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"lodash\"), \" have no good way of achieving this\\n(\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://lodash.com/docs/4.17.15#keyBy\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"keyBy\"), \" is okay, but doesn't transform values).\"), mdx(\"p\", null, \"In one project, we frequently had the need for such transformations, so we made our own util for it.\\nThe implementation is something like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts:title=to-object\"\n  }, \"export const toObject = <T, K extends string | number | symbol, V>(\\n  array: ReadonlyArray<T>,\\n  iteratee: (element: T, index: number, array: ReadonlyArray<T>) => [K, V]\\n): Record<K, V> =>\\n  array.reduce((result, element, index) => {\\n    const [key, value] = iteratee(element, index, array)\\n    result[key] = value\\n    return result\\n  }, {} as Record<K, V>)\\n\\ntoObject(['foo', 'bar', 'baz'], (element) => [\\n  'key-' + element,\\n  'value-' + element,\\n])\\n\")), mdx(\"p\", null, \"Good name, strong types, ease of use. The rest is implementation detail (including the type assertion for the initial value).\"), mdx(\"h3\", {\n    \"id\": \"2-grouping-arrays\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"2. Grouping Arrays\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#2-grouping-arrays\",\n    \"aria-label\": \"2 grouping arrays permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Again, pick a util library (\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://lodash.com/docs/4.17.15#groupBy\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"lodash\"), \",\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://ramdajs.com/docs/#groupBy\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"ramda\"), \",\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://remedajs.com/docs#groupBy\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"remeda\"), \", ...)\\nor write your own util. Encapsulate that complex reduce so that you don't have to re-implement it every time you need it.\"), mdx(\"h3\", {\n    \"id\": \"3-do-many-things-at-once\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"3. Do many things at once\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#3-do-many-things-at-once\",\n    \"aria-label\": \"3 do many things at once permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Iterating over big lists many times \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"can\"), \" be costly, so people often fallback to reduce because it can do everything in one go.\"), mdx(\"p\", null, \"The truth is: usually, \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"it doesn't matter\"), \".\\nEven when working with very large lists (tens of thousands of entries),\\nI have made the experience that performance is rarely negatively impacted as long as you keep iterations linear.\"), mdx(\"p\", null, \"If your toObject util does \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"one\"), \" iteration with a reduce or \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"two\"), \" iterations with a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"map\"), \" followed by \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Object.fromEntries\"), \" is irrelevant,\\n\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"unless\"), \" you have \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://cdb.reacttraining.com/react-inline-functions-and-performance-bdff784f5578\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"measured it\"), \"\\nand found it to be a bottleneck.\"), mdx(\"h2\", {\n    \"id\": \"reduce-performance-pitfalls\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Reduce performance pitfalls\", mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#reduce-performance-pitfalls\",\n    \"aria-label\": \"reduce performance pitfalls permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fill\": \"currentcolor\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Talking about performance and linear iterations, I've learned the hard way \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \" to do this when working with reduce:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts:title=immutability-🎉\",\n    \"metastring\": \"{7-10}\",\n    \"{7-10}\": true\n  }, \"export const toObject = <T, K extends string | number | symbol, V>(\\n  array: ReadonlyArray<T>,\\n  iteratee: (element: T, index: number, array: ReadonlyArray<T>) => [K, V]\\n): Record<K, V> =>\\n  array.reduce((result, element, index) => {\\n    const [key, value] = iteratee(element, index, array)\\n    return {\\n      ...result,\\n      [key]: value,\\n    }\\n  }, {} as Record<K, V>)\\n\")), mdx(\"p\", null, \"Why should I be \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"dirty\"), \" and mutate the result, when I can be super fancy instead and create a new object every time \\uD83E\\uDD14\\uD83E\\uDD26\\u200D.\"), mdx(\"p\", null, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://jsbench.me/svkevt492x/1\",\n    \"target\": \"_blank\",\n    \"rel\": \"noreferrer noopener\"\n  }, \"Here\"), \" is a perf analysis how the two compare when run over an Array with 10k entries:\"), mdx(\"p\", null, \"1.700 operations per second vs. 47 operations per second.\"), mdx(\"p\", null, \"Yes, it's \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"that\"), \" slow, because it has to re-create an ever-growing object with every iteration.\\nIt will get exponentially slower the more entries the array has.\\nMutation is not the root of all evil, it does \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \" have to be avoided at all costs.\\nIf the scope is small, and the intent is clear - mutate away \\uD83D\\uDE80.\"), mdx(\"p\", null, \"But still - avoid reduce\"), mdx(Comments, {\n    mdxType: \"Comments\"\n  }, \"Do you like reduce or not? Let me know in the comments below \\u2B07\\uFE0F\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"The popular  eslint-plugin-unicorn  recently added a\n no-reduce  rule, and it is set to  error  per default.\nThe argument is that Array…","timeToRead":3,"banner":{"childImageSharp":{"resize":{"src":"/static/1dc1ed7acf79826a20f3449c7b11c88b/73f08/swiss-knife.png"}}}}},"pageContext":{"slug":"/why-i-dont-like-reduce","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}